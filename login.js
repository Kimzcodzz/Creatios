import { useState } from 'react'; import Router from 'next/router';
export default function Login(){ const [username,setUsername]=useState(''); const [password,setPassword]=useState(''); const [error,setError]=useState('');
async function submit(e){ e.preventDefault(); setError(''); const r=await fetch('/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password})}); if(r.ok){Router.push('/');} else {const d=await r.json().catch(()=>({})); setError(d.error||'Login failed');} }
return (<div className="min-h-screen flex items-center justify-center p-4"><form onSubmit={submit} className="w-full max-w-sm border p-6 rounded shadow"><h1 className="text-xl font-bold mb-4">Admin Login</h1>{error?<p className='text-red-600 mb-2'>{error}</p>:null}<label className='block mb-2'>Username</label><input className='border rounded p-2 w-full mb-4' value={username} onChange={e=>setUsername(e.target.value)} /><label className='block mb-2'>Password</label><input type='password' className='border rounded p-2 w-full mb-6' value={password} onChange={e=>setPassword(e.target.value)} /><button className='bg-blue-600 text-white px-4 py-2 rounded w-full'>Sign In</button></form></div>); }